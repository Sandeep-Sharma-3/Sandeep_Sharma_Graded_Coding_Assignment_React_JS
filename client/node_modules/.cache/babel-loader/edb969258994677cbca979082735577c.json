{"ast":null,"code":"var _jsxFileName = \"S:\\\\Professional_Life\\\\Full_Stack_Software_Development_Course_IIT_Roorkee\\\\Frontend\\\\ReactJS\\\\Week 12\\\\Graded Coding Assignment - React JS\\\\Sandeep_Sharma_Graded_Coding_Assignment_React_JS\\\\client\\\\src\\\\components\\\\ListMovieItems.tsx\";\nimport { Component } from \"react\";\nimport { Alert, Button, Col, Container, Modal, Row } from \"react-bootstrap\";\nimport getMovieList from \"../services/GetMovieList\";\nimport LoadingIndicator from \"./common/LoadingIndicator\";\nimport MovieItem from \"./MovieItem\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass ListMovieItems extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      status: 'LOADING',\n      movieDeleted: false\n    };\n  }\n\n  render() {\n    var _this$state$movies, _this$state$movies2, _this$state$movies3, _this$state$error;\n\n    let el;\n\n    const deleteCallback = movieDeleted => {\n      this.setState({\n        movieDeleted: true\n      });\n    };\n\n    switch (this.state.status) {\n      case 'LOADING':\n        el = /*#__PURE__*/_jsxDEV(LoadingIndicator, {\n          size: \"large\",\n          message: \"Fetching movie list. Please Wait!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 23\n        }, this);\n        break;\n\n      case 'LOADED':\n        el = /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(_Fragment, {\n            children: /*#__PURE__*/_jsxDEV(Modal, {\n              show: this.state.movieDeleted,\n              onHide: () => this.setState({\n                movieDeleted: false\n              }),\n              children: [/*#__PURE__*/_jsxDEV(Modal.Body, {\n                children: \"The movie has been removed from your favourites.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 43,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"secondary\",\n                  onClick: () => this.setState({\n                    movieDeleted: false\n                  }),\n                  children: \"Okay\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 45,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 44,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 42,\n              columnNumber: 25\n            }, this)\n          }, void 0, false), /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"my-3\",\n            children: \"Movies\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Container, {\n            style: {\n              display: \"flex\",\n              alignItems: \"center\",\n              justifyContent: \"center\"\n            },\n            children: /*#__PURE__*/_jsxDEV(Row, {\n              xs: 1,\n              sm: 2,\n              md: 3,\n              lg: 4,\n              xl: 5,\n              children: [((_this$state$movies = this.state.movies) === null || _this$state$movies === void 0 ? void 0 : _this$state$movies.length) !== 0 && ((_this$state$movies2 = this.state.movies) === null || _this$state$movies2 === void 0 ? void 0 : _this$state$movies2.filter(post => {\n                if (this.props.searchQuery === '' || this.props.searchQuery === undefined) {\n                  return post;\n                } else {\n                  const query = this.props.searchQuery;\n\n                  if (post.title.toLowerCase().includes(query.toLowerCase())) {\n                    return post;\n                  }\n                }\n              }).map(movie => /*#__PURE__*/_jsxDEV(Col, {\n                children: /*#__PURE__*/_jsxDEV(MovieItem, {\n                  deleteCallback: deleteCallback,\n                  moviedetails: movie,\n                  movieListType: this.props.match.params.movieListType\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 70,\n                  columnNumber: 49\n                }, this)\n              }, movie.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 69,\n                columnNumber: 45\n              }, this))), ((_this$state$movies3 = this.state.movies) === null || _this$state$movies3 === void 0 ? void 0 : _this$state$movies3.length) === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                children: \"No data found\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true);\n        break;\n\n      case 'ERROR_LOADING':\n        el = /*#__PURE__*/_jsxDEV(Alert, {\n          variant: \"danger my-3\",\n          children: (_this$state$error = this.state.error) === null || _this$state$error === void 0 ? void 0 : _this$state$error.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 21\n        }, this);\n        break;\n    }\n\n    ;\n    return el;\n  }\n\n  async componentDidMount() {\n    const {\n      match\n    } = this.props;\n    this.setState({\n      status: 'LOADING',\n      movieDeleted: false\n    });\n\n    try {\n      const data = await getMovieList(match.params.movieListType);\n      this.setState({\n        status: 'LOADED',\n        movies: data\n      });\n    } catch (error) {\n      this.setState({\n        status: 'ERROR_LOADING',\n        error\n      });\n    }\n  }\n\n  async componentDidUpdate(prevProps, prevState) {\n    if (prevProps.match.params.movieListType !== this.props.match.params.movieListType || prevState.movieDeleted !== this.state.movieDeleted) {\n      const {\n        match\n      } = this.props;\n      this.setState({\n        status: 'LOADING'\n      });\n\n      try {\n        const data = await getMovieList(match.params.movieListType);\n        this.setState({\n          status: 'LOADED',\n          movies: data\n        });\n      } catch (error) {\n        this.setState({\n          status: 'ERROR_LOADING',\n          error\n        });\n      }\n    }\n  }\n\n}\n\n;\nexport default ListMovieItems;","map":{"version":3,"names":["Component","Alert","Button","Col","Container","Modal","Row","getMovieList","LoadingIndicator","MovieItem","ListMovieItems","state","status","movieDeleted","render","el","deleteCallback","setState","display","alignItems","justifyContent","movies","length","filter","post","props","searchQuery","undefined","query","title","toLowerCase","includes","map","movie","match","params","movieListType","id","error","message","componentDidMount","data","componentDidUpdate","prevProps","prevState"],"sources":["S:/Professional_Life/Full_Stack_Software_Development_Course_IIT_Roorkee/Frontend/ReactJS/Week 12/Graded Coding Assignment - React JS/Sandeep_Sharma_Graded_Coding_Assignment_React_JS/client/src/components/ListMovieItems.tsx"],"sourcesContent":["import { Component } from \"react\";\r\nimport { Alert, Button, Col, Container, Modal, Row } from \"react-bootstrap\";\r\nimport { RouteComponentProps } from \"react-router-dom\";\r\nimport movieDetails from \"../models/movieDetails\";\r\nimport getMovieList from \"../services/GetMovieList\";\r\nimport LoadingIndicator from \"./common/LoadingIndicator\";\r\nimport MovieItem from \"./MovieItem\";\r\n\r\ntype Props = {\r\n    searchQuery : string|undefined\r\n};\r\n\r\ntype State = {\r\n    status: \"LOADING\" | \"LOADED\" | \"ERROR_LOADING\",\r\n    movies?: movieDetails[],\r\n    error?: Error\r\n    movieDeleted: boolean\r\n};\r\n\r\nclass ListMovieItems extends Component<RouteComponentProps<{movieListType:string}> & Props, State> {\r\n    state : State = {\r\n        status: 'LOADING',\r\n        movieDeleted: false\r\n    };\r\n\r\n    render() {\r\n        let el;\r\n        const deleteCallback = (movieDeleted : boolean) => {\r\n            this.setState({\r\n                movieDeleted : true\r\n            });\r\n        };\r\n\r\n        switch(this.state.status) {\r\n            case 'LOADING':\r\n                el = (<LoadingIndicator size=\"large\" message=\"Fetching movie list. Please Wait!\"/>);\r\n                break;\r\n            case 'LOADED':\r\n                el = (\r\n                    <>\r\n                        <>\r\n                        <Modal show={this.state.movieDeleted} onHide={() => this.setState({movieDeleted:false})}>\r\n                            <Modal.Body>The movie has been removed from your favourites.</Modal.Body>\r\n                            <Modal.Footer>\r\n                                <Button variant=\"secondary\" onClick={() => this.setState({movieDeleted:false})}>\r\n                                    Okay\r\n                                </Button>\r\n                            </Modal.Footer>\r\n                        </Modal>\r\n                        </>\r\n                        \r\n                        <h3 className=\"my-3\">Movies</h3>\r\n                        <hr/>\r\n                        <Container style={{display:\"flex\", alignItems: \"center\", justifyContent: \"center\"}}>\r\n                            <Row xs={1} sm={2} md={3} lg={4} xl={5}>\r\n                                {\r\n                                    (this.state.movies?.length !== 0) &&\r\n                                    this.state.movies?.filter(post => {\r\n                                        if (this.props.searchQuery === '' || this.props.searchQuery === undefined) {\r\n                                        return post;\r\n                                        } else {\r\n                                            const query = this.props.searchQuery as string;\r\n                                            if (post.title.toLowerCase().includes(query.toLowerCase())) {\r\n                                                return post;\r\n                                            }\r\n                                        }\r\n                                    }).map(\r\n                                        movie => (\r\n                                            <Col key={movie.id}>\r\n                                                <MovieItem deleteCallback={deleteCallback} moviedetails={movie} movieListType={this.props.match.params.movieListType} />\r\n                                            </Col>\r\n                                        )\r\n                                    )\r\n                                }\r\n                                {\r\n                                    (this.state.movies?.length === 0) && \r\n                                    <div>No data found</div>\r\n                                }\r\n                            </Row>\r\n                        </Container>\r\n                    </>\r\n                );\r\n                break;\r\n            case 'ERROR_LOADING':\r\n                el = (\r\n                    <Alert variant=\"danger my-3\">\r\n                        {this.state.error?.message}\r\n                    </Alert>\r\n                );\r\n                break;\r\n        };\r\n\r\n        return el;\r\n    }\r\n\r\n    async componentDidMount() {\r\n        const {match} = this.props;\r\n        this.setState({\r\n            status: 'LOADING',\r\n            movieDeleted: false\r\n        });\r\n\r\n        try {\r\n            const data = await getMovieList(match.params.movieListType);\r\n            this.setState({\r\n                status: 'LOADED',\r\n                movies: data\r\n            });\r\n        } catch(error:any) {\r\n            this.setState({\r\n                status: 'ERROR_LOADING',\r\n                error\r\n            });\r\n        }\r\n    }\r\n\r\n    async componentDidUpdate(prevProps:RouteComponentProps<{movieListType:string}>, prevState : State) {\r\n        if(prevProps.match.params.movieListType !== this.props.match.params.movieListType || prevState.movieDeleted !== this.state.movieDeleted) {\r\n            const {match} = this.props;\r\n            this.setState({\r\n                status: 'LOADING',\r\n            });\r\n\r\n            try {\r\n                const data = await getMovieList(match.params.movieListType);\r\n                this.setState({\r\n                    status: 'LOADED',\r\n                    movies: data\r\n                });\r\n            } catch(error:any) {\r\n                this.setState({\r\n                    status: 'ERROR_LOADING',\r\n                    error\r\n                });\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nexport default ListMovieItems;"],"mappings":";AAAA,SAASA,SAAT,QAA0B,OAA1B;AACA,SAASC,KAAT,EAAgBC,MAAhB,EAAwBC,GAAxB,EAA6BC,SAA7B,EAAwCC,KAAxC,EAA+CC,GAA/C,QAA0D,iBAA1D;AAGA,OAAOC,YAAP,MAAyB,0BAAzB;AACA,OAAOC,gBAAP,MAA6B,2BAA7B;AACA,OAAOC,SAAP,MAAsB,aAAtB;;;;AAaA,MAAMC,cAAN,SAA6BV,SAA7B,CAAmG;EAAA;IAAA;IAAA,KAC/FW,KAD+F,GAC/E;MACZC,MAAM,EAAE,SADI;MAEZC,YAAY,EAAE;IAFF,CAD+E;EAAA;;EAM/FC,MAAM,GAAG;IAAA;;IACL,IAAIC,EAAJ;;IACA,MAAMC,cAAc,GAAIH,YAAD,IAA4B;MAC/C,KAAKI,QAAL,CAAc;QACVJ,YAAY,EAAG;MADL,CAAd;IAGH,CAJD;;IAMA,QAAO,KAAKF,KAAL,CAAWC,MAAlB;MACI,KAAK,SAAL;QACIG,EAAE,gBAAI,QAAC,gBAAD;UAAkB,IAAI,EAAC,OAAvB;UAA+B,OAAO,EAAC;QAAvC;UAAA;UAAA;UAAA;QAAA,QAAN;QACA;;MACJ,KAAK,QAAL;QACIA,EAAE,gBACE;UAAA,wBACI;YAAA,uBACA,QAAC,KAAD;cAAO,IAAI,EAAE,KAAKJ,KAAL,CAAWE,YAAxB;cAAsC,MAAM,EAAE,MAAM,KAAKI,QAAL,CAAc;gBAACJ,YAAY,EAAC;cAAd,CAAd,CAApD;cAAA,wBACI,QAAC,KAAD,CAAO,IAAP;gBAAA;cAAA;gBAAA;gBAAA;gBAAA;cAAA,QADJ,eAEI,QAAC,KAAD,CAAO,MAAP;gBAAA,uBACI,QAAC,MAAD;kBAAQ,OAAO,EAAC,WAAhB;kBAA4B,OAAO,EAAE,MAAM,KAAKI,QAAL,CAAc;oBAACJ,YAAY,EAAC;kBAAd,CAAd,CAA3C;kBAAA;gBAAA;kBAAA;kBAAA;kBAAA;gBAAA;cADJ;gBAAA;gBAAA;gBAAA;cAAA,QAFJ;YAAA;cAAA;cAAA;cAAA;YAAA;UADA,iBADJ,eAYI;YAAI,SAAS,EAAC,MAAd;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QAZJ,eAaI;YAAA;YAAA;YAAA;UAAA,QAbJ,eAcI,QAAC,SAAD;YAAW,KAAK,EAAE;cAACK,OAAO,EAAC,MAAT;cAAiBC,UAAU,EAAE,QAA7B;cAAuCC,cAAc,EAAE;YAAvD,CAAlB;YAAA,uBACI,QAAC,GAAD;cAAK,EAAE,EAAE,CAAT;cAAY,EAAE,EAAE,CAAhB;cAAmB,EAAE,EAAE,CAAvB;cAA0B,EAAE,EAAE,CAA9B;cAAiC,EAAE,EAAE,CAArC;cAAA,WAES,4BAAKT,KAAL,CAAWU,MAAX,0EAAmBC,MAAnB,MAA8B,CAA/B,4BACA,KAAKX,KAAL,CAAWU,MADX,wDACA,oBAAmBE,MAAnB,CAA0BC,IAAI,IAAI;gBAC9B,IAAI,KAAKC,KAAL,CAAWC,WAAX,KAA2B,EAA3B,IAAiC,KAAKD,KAAL,CAAWC,WAAX,KAA2BC,SAAhE,EAA2E;kBAC3E,OAAOH,IAAP;gBACC,CAFD,MAEO;kBACH,MAAMI,KAAK,GAAG,KAAKH,KAAL,CAAWC,WAAzB;;kBACA,IAAIF,IAAI,CAACK,KAAL,CAAWC,WAAX,GAAyBC,QAAzB,CAAkCH,KAAK,CAACE,WAAN,EAAlC,CAAJ,EAA4D;oBACxD,OAAON,IAAP;kBACH;gBACJ;cACJ,CATD,EASGQ,GATH,CAUIC,KAAK,iBACD,QAAC,GAAD;gBAAA,uBACI,QAAC,SAAD;kBAAW,cAAc,EAAEjB,cAA3B;kBAA2C,YAAY,EAAEiB,KAAzD;kBAAgE,aAAa,EAAE,KAAKR,KAAL,CAAWS,KAAX,CAAiBC,MAAjB,CAAwBC;gBAAvG;kBAAA;kBAAA;kBAAA;gBAAA;cADJ,GAAUH,KAAK,CAACI,EAAhB;gBAAA;gBAAA;gBAAA;cAAA,QAXR,CADA,CAFR,EAqBS,6BAAK1B,KAAL,CAAWU,MAAX,4EAAmBC,MAAnB,MAA8B,CAA/B,iBACA;gBAAA;cAAA;gBAAA;gBAAA;gBAAA;cAAA,QAtBR;YAAA;cAAA;cAAA;cAAA;YAAA;UADJ;YAAA;YAAA;YAAA;UAAA,QAdJ;QAAA,gBADJ;QA4CA;;MACJ,KAAK,eAAL;QACIP,EAAE,gBACE,QAAC,KAAD;UAAO,OAAO,EAAC,aAAf;UAAA,+BACK,KAAKJ,KAAL,CAAW2B,KADhB,sDACK,kBAAkBC;QADvB;UAAA;UAAA;UAAA;QAAA,QADJ;QAKA;IAxDR;;IAyDC;IAED,OAAOxB,EAAP;EACH;;EAEsB,MAAjByB,iBAAiB,GAAG;IACtB,MAAM;MAACN;IAAD,IAAU,KAAKT,KAArB;IACA,KAAKR,QAAL,CAAc;MACVL,MAAM,EAAE,SADE;MAEVC,YAAY,EAAE;IAFJ,CAAd;;IAKA,IAAI;MACA,MAAM4B,IAAI,GAAG,MAAMlC,YAAY,CAAC2B,KAAK,CAACC,MAAN,CAAaC,aAAd,CAA/B;MACA,KAAKnB,QAAL,CAAc;QACVL,MAAM,EAAE,QADE;QAEVS,MAAM,EAAEoB;MAFE,CAAd;IAIH,CAND,CAME,OAAMH,KAAN,EAAiB;MACf,KAAKrB,QAAL,CAAc;QACVL,MAAM,EAAE,eADE;QAEV0B;MAFU,CAAd;IAIH;EACJ;;EAEuB,MAAlBI,kBAAkB,CAACC,SAAD,EAAwDC,SAAxD,EAA2E;IAC/F,IAAGD,SAAS,CAACT,KAAV,CAAgBC,MAAhB,CAAuBC,aAAvB,KAAyC,KAAKX,KAAL,CAAWS,KAAX,CAAiBC,MAAjB,CAAwBC,aAAjE,IAAkFQ,SAAS,CAAC/B,YAAV,KAA2B,KAAKF,KAAL,CAAWE,YAA3H,EAAyI;MACrI,MAAM;QAACqB;MAAD,IAAU,KAAKT,KAArB;MACA,KAAKR,QAAL,CAAc;QACVL,MAAM,EAAE;MADE,CAAd;;MAIA,IAAI;QACA,MAAM6B,IAAI,GAAG,MAAMlC,YAAY,CAAC2B,KAAK,CAACC,MAAN,CAAaC,aAAd,CAA/B;QACA,KAAKnB,QAAL,CAAc;UACVL,MAAM,EAAE,QADE;UAEVS,MAAM,EAAEoB;QAFE,CAAd;MAIH,CAND,CAME,OAAMH,KAAN,EAAiB;QACf,KAAKrB,QAAL,CAAc;UACVL,MAAM,EAAE,eADE;UAEV0B;QAFU,CAAd;MAIH;IACJ;EACJ;;AArH8F;;AAsHlG;AAED,eAAe5B,cAAf"},"metadata":{},"sourceType":"module"}