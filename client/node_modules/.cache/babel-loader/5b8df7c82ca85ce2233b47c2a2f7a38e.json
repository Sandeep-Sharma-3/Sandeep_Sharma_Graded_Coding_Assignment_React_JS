{"ast":null,"code":"var _jsxFileName = \"S:\\\\Professional_Life\\\\Full_Stack_Software_Development_Course_IIT_Roorkee\\\\Frontend\\\\ReactJS\\\\Week 12\\\\Graded Coding Assignment - React JS\\\\Sandeep_Sharma_Graded_Coding_Assignment_React_JS\\\\client\\\\src\\\\components\\\\ListMovieItems.tsx\";\nimport { Component } from \"react\";\nimport { Alert, Col, Row } from \"react-bootstrap\";\nimport getMovieList from \"../services/GetMovieList\";\nimport LoadingIndicator from \"./common/LoadingIndicator\";\nimport MovieItem from \"./MovieItem\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass ListMovieItems extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      status: 'LOADING'\n    };\n  }\n\n  render() {\n    var _this$state$movies, _this$state$error;\n\n    let el;\n\n    switch (this.state.status) {\n      case 'LOADING':\n        el = /*#__PURE__*/_jsxDEV(LoadingIndicator, {\n          size: \"large\",\n          message: \"Fetching movie list. Please Wait!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 25,\n          columnNumber: 23\n        }, this);\n        break;\n\n      case 'LOADED':\n        el = /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"my-3\",\n            children: \"Movies\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 30,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 31,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Row, {\n            xs: 2,\n            md: 3,\n            lg: 5,\n            children: (_this$state$movies = this.state.movies) === null || _this$state$movies === void 0 ? void 0 : _this$state$movies.map(movie => /*#__PURE__*/_jsxDEV(Col, {\n              children: /*#__PURE__*/_jsxDEV(MovieItem, {\n                moviedetails: movie\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 37,\n                columnNumber: 45\n              }, this)\n            }, movie.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 36,\n              columnNumber: 41\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 32,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true);\n        break;\n\n      case 'ERROR_LOADING':\n        el = /*#__PURE__*/_jsxDEV(Alert, {\n          variant: \"danger my-3\",\n          children: (_this$state$error = this.state.error) === null || _this$state$error === void 0 ? void 0 : _this$state$error.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 21\n        }, this);\n        break;\n    }\n\n    ;\n    return el;\n  }\n\n  async componentDidMount() {\n    const {\n      match\n    } = this.props;\n    console.log(\"ListMovieItem ComponentDidMount: \", match.params.movieListType);\n    this.setState({\n      status: 'LOADING'\n    });\n\n    try {\n      const data = await getMovieList(match.params.movieListType);\n      this.setState({\n        status: 'LOADED',\n        movies: data\n      });\n    } catch (error) {\n      this.setState({\n        status: 'ERROR_LOADING',\n        error\n      });\n    }\n  }\n\n  async componentDidUpdate(prevProps, newProps, state) {\n    if (prevProps.match.params.movieListType !== newProps.match.params.movieListType) {\n      const {\n        match\n      } = newProps;\n      console.log(\"ListMovieItem ComponentDidMount: \", match.params.movieListType);\n      this.setState({\n        status: 'LOADING'\n      });\n\n      try {\n        const data = await getMovieList(match.params.movieListType);\n        this.setState({\n          status: 'LOADED',\n          movies: data\n        });\n      } catch (error) {\n        this.setState({\n          status: 'ERROR_LOADING',\n          error\n        });\n      }\n    }\n  }\n\n}\n\n;\nexport default ListMovieItems;","map":{"version":3,"names":["Component","Alert","Col","Row","getMovieList","LoadingIndicator","MovieItem","ListMovieItems","state","status","render","el","movies","map","movie","id","error","message","componentDidMount","match","props","console","log","params","movieListType","setState","data","componentDidUpdate","prevProps","newProps"],"sources":["S:/Professional_Life/Full_Stack_Software_Development_Course_IIT_Roorkee/Frontend/ReactJS/Week 12/Graded Coding Assignment - React JS/Sandeep_Sharma_Graded_Coding_Assignment_React_JS/client/src/components/ListMovieItems.tsx"],"sourcesContent":["import { Component } from \"react\";\r\nimport { Alert, Col, Row } from \"react-bootstrap\";\r\nimport { RouteComponentProps } from \"react-router-dom\";\r\nimport movieDetails from \"../models/movieDetails\";\r\nimport getMovieList from \"../services/GetMovieList\";\r\nimport LoadingIndicator from \"./common/LoadingIndicator\";\r\nimport MovieItem from \"./MovieItem\";\r\n\r\ntype State = {\r\n    status: \"LOADING\" | \"LOADED\" | \"ERROR_LOADING\",\r\n    movies?: movieDetails[],\r\n    error?: Error\r\n};\r\n\r\nclass ListMovieItems extends Component<RouteComponentProps<{movieListType:string}>, State> {\r\n    state : State = {\r\n        status: 'LOADING'\r\n    };\r\n\r\n    render() {\r\n        let el;\r\n\r\n        switch(this.state.status) {\r\n            case 'LOADING':\r\n                el = (<LoadingIndicator size=\"large\" message=\"Fetching movie list. Please Wait!\"/>);\r\n                break;\r\n            case 'LOADED':\r\n                el = (\r\n                    <>\r\n                        <h3 className=\"my-3\">Movies</h3>\r\n                        <hr/>\r\n                        <Row xs={2} md={3} lg={5}>\r\n                            {\r\n                                this.state.movies?.map(\r\n                                    movie => (\r\n                                        <Col key={movie.id}>\r\n                                            <MovieItem moviedetails={movie} />\r\n                                        </Col>\r\n                                    )\r\n                                )\r\n                            }\r\n                        </Row>\r\n                    </>\r\n                );\r\n                break;\r\n            case 'ERROR_LOADING':\r\n                el = (\r\n                    <Alert variant=\"danger my-3\">\r\n                        {this.state.error?.message}\r\n                    </Alert>\r\n                );\r\n                break;\r\n        };\r\n\r\n        return el;\r\n    }\r\n\r\n    async componentDidMount() {\r\n        const {match} = this.props;\r\n        console.log(\"ListMovieItem ComponentDidMount: \",match.params.movieListType)\r\n        this.setState({\r\n            status: 'LOADING'\r\n        });\r\n\r\n        try {\r\n            const data = await getMovieList(match.params.movieListType);\r\n            this.setState({\r\n                status: 'LOADED',\r\n                movies: data\r\n            });\r\n        } catch(error:any) {\r\n            this.setState({\r\n                status: 'ERROR_LOADING',\r\n                error\r\n            });\r\n        }\r\n    }\r\n\r\n    async componentDidUpdate(prevProps:any, newProps:any, state : State) {\r\n        if(prevProps.match.params.movieListType !== newProps.match.params.movieListType) {\r\n            const {match} = newProps;\r\n            console.log(\"ListMovieItem ComponentDidMount: \",match.params.movieListType)\r\n            this.setState({\r\n                status: 'LOADING'\r\n            });\r\n\r\n            try {\r\n                const data = await getMovieList(match.params.movieListType);\r\n                this.setState({\r\n                    status: 'LOADED',\r\n                    movies: data\r\n                });\r\n            } catch(error:any) {\r\n                this.setState({\r\n                    status: 'ERROR_LOADING',\r\n                    error\r\n                });\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nexport default ListMovieItems;"],"mappings":"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"},"metadata":{},"sourceType":"module"}